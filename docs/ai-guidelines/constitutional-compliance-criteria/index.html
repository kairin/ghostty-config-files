<!DOCTYPE html><html lang="en" data-theme="light" class="transition-colors duration-200"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="icon" type="image/svg+xml" href="/ghostty-config-files/favicon.svg"><meta name="generator" content="Astro v5.15.9"><title>Constitutional Compliance Criteria | Ghostty Configuration Files</title><meta name="description" content="**Last Updated**: 2025-11-17"><!-- OpenGraph --><meta property="og:title" content="Constitutional Compliance Criteria"><meta property="og:description" content="**Last Updated**: 2025-11-17"><meta property="og:type" content="website"><!-- Fonts --><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet"><link rel="stylesheet" href="/ghostty-config-files/_astro/_slug_.ZRO-SjbT.css"></head> <body class="min-h-screen bg-white dark:bg-slate-900 text-gray-900 dark:text-gray-100 transition-colors duration-200 cyber-bg"> <!-- Modern Glass Morphism Navigation --> <nav class="fixed top-0 w-full backdrop-blur-xl bg-white/80 dark:bg-slate-900/80 shadow-lg border-b border-gray-200/50 dark:border-gray-700/50 z-50 transition-all duration-300"> <div class="full-width-section"> <div class="navbar"> <div class="flex-1"> <a href="/ghostty-config-files/" class="btn btn-ghost text-xl font-bold hover:text-blue-600 dark:hover:text-cyan-400 transition-all"> <span class="hidden md:inline">Ghostty Config Files</span> <span class="md:hidden">Ghostty</span> </a> </div> <div class="flex-none gap-2"> <ul class="menu menu-horizontal px-1 hidden lg:flex gap-4"> <li><a href="/ghostty-config-files/user-guide" class="nav-link">User Guide</a></li> <li><a href="/ghostty-config-files/ai-guidelines" class="nav-link">AI Guidelines</a></li> <li><a href="/ghostty-config-files/developer" class="nav-link">Developer</a></li> <li> <a href="https://github.com/kairin/ghostty-config-files" target="_blank" rel="noopener noreferrer" class="nav-link">
GitHub
</a> </li> </ul> <button id="theme-toggle" class="btn btn-ghost btn-circle" aria-label="Toggle theme" title="Toggle dark/light mode" data-astro-cid-x3pjskd3> <svg id="theme-icon-sun" class="h-6 w-6 hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-x3pjskd3> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" data-astro-cid-x3pjskd3></path> </svg> <svg id="theme-icon-moon" class="h-6 w-6 hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-astro-cid-x3pjskd3> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" data-astro-cid-x3pjskd3></path> </svg> </button> <script type="module">function c(){const e=document.documentElement,t=document.getElementById("theme-icon-sun"),n=document.getElementById("theme-icon-moon"),d=localStorage.getItem("theme"),s=window.matchMedia("(prefers-color-scheme: dark)").matches,o=d||(s?"dark":"light");o==="dark"?(e.setAttribute("data-theme","dark"),e.classList.add("dark"),t&&t.classList.remove("hidden"),n&&n.classList.add("hidden")):(e.setAttribute("data-theme","light"),e.classList.remove("dark"),t&&t.classList.add("hidden"),n&&n.classList.remove("hidden")),localStorage.setItem("theme",o)}function a(){const e=document.documentElement,t=document.getElementById("theme-icon-sun"),n=document.getElementById("theme-icon-moon"),s=e.getAttribute("data-theme")==="dark"?"light":"dark";e.setAttribute("data-theme",s),s==="dark"?(e.classList.add("dark"),t&&t.classList.remove("hidden"),n&&n.classList.add("hidden")):(e.classList.remove("dark"),t&&t.classList.add("hidden"),n&&n.classList.remove("hidden")),localStorage.setItem("theme",s)}c();const m=document.getElementById("theme-toggle");m&&m.addEventListener("click",a);document.addEventListener("astro:page-load",c);</script>  </div> </div> </div> </nav> <!-- Spacer for fixed nav --> <div class="h-20"></div> <!-- Main Content - Full Width --> <main class="w-full px-4 md:px-8 lg:px-12 xl:px-16 py-12"> <!-- Article Header (if metadata provided) --> <div class="mb-8 text-sm text-gray-600 dark:text-gray-400"> <time datetime="2025-11-25T00:00:00.000Z"> November 25, 2025 </time> <span> by Ghostty Config Team</span> </div> <!-- Page Content - Full Width with Max Readable for Prose --> <article class="prose prose-lg w-full max-w-none text-lg leading-relaxed">  <div class="breadcrumbs text-sm mb-6"> <ul> <li><a href="/ghostty-config-files/">Home</a></li> <li><a href="/ghostty-config-files/ai-guidelines/core-principles">AI Guidelines</a></li> <li>Constitutional Compliance Criteria</li> </ul> </div> <h1>Constitutional Compliance Criteria</h1> <p class="text-xl text-base-content/70 mb-8">**Last Updated**: 2025-11-17</p><h1 id="constitutional-compliance-criteria">Constitutional Compliance Criteria</h1>
<blockquote>
<p>Validation checkpoints and quality gates for constitutional Git workflow compliance</p>
</blockquote>
<p><strong>Last Updated</strong>: 2025-11-17
<strong>Status</strong>: ACTIVE - MANDATORY COMPLIANCE
<strong>Version</strong>: 1.0</p>
<h2 id="overview">Overview</h2>
<p>This document defines the validation criteria, quality gates, and compliance checkpoints for all Git operations, commits, and deployments in the ghostty-config-files repository. These criteria enforce the constitutional requirements defined in AGENTS.md and ensure repository integrity.</p>
<h2 id="1-branch-management-validation">1. Branch Management Validation</h2>
<h3 id="11-branch-naming-pattern-validation">1.1 Branch Naming Pattern Validation</h3>
<p><strong>MANDATORY Format</strong>: <code>YYYYMMDD-HHMMSS-type-short-description</code></p>
<p><strong>Validation Rules</strong>:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Valid branch name pattern</span></span>
<span class="line"><span style="color:#B392F0">^[0-9]</span><span style="color:#9ECBFF">{8}</span><span style="color:#B392F0">-[0-9]</span><span style="color:#9ECBFF">{6}</span><span style="color:#B392F0">-(feat</span><span style="color:#F97583">|</span><span style="color:#B392F0">fix</span><span style="color:#F97583">|</span><span style="color:#B392F0">docs</span><span style="color:#F97583">|</span><span style="color:#B392F0">refactor</span><span style="color:#F97583">|</span><span style="color:#79B8FF">test</span><span style="color:#F97583">|</span><span style="color:#B392F0">chore</span><span style="color:#F97583">|</span><span style="color:#B392F0">perf</span><span style="color:#F97583">|</span><span style="color:#B392F0">style</span><span style="color:#F97583">|</span><span style="color:#B392F0">ci</span><span style="color:#E1E4E8">)-[a-z0-9-]+$</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Examples:</span></span>
<span class="line"><span style="color:#B392F0">‚úÖ</span><span style="color:#9ECBFF"> 20251117-143000-feat-context-menu-integration</span></span>
<span class="line"><span style="color:#B392F0">‚úÖ</span><span style="color:#9ECBFF"> 20251117-143515-fix-performance-optimization</span></span>
<span class="line"><span style="color:#B392F0">‚úÖ</span><span style="color:#9ECBFF"> 20251117-144030-docs-agents-enhancement</span></span>
<span class="line"><span style="color:#B392F0">‚úÖ</span><span style="color:#9ECBFF"> 20251117-145000-refactor-ci-pipeline</span></span>
<span class="line"><span style="color:#B392F0">‚úÖ</span><span style="color:#9ECBFF"> 20251117-150000-test-validation-suite</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">‚ùå</span><span style="color:#9ECBFF"> feature-branch</span><span style="color:#6A737D">                    # Missing timestamp</span></span>
<span class="line"><span style="color:#B392F0">‚ùå</span><span style="color:#9ECBFF"> 20251117-feat-description</span><span style="color:#6A737D">         # Missing time component</span></span>
<span class="line"><span style="color:#B392F0">‚ùå</span><span style="color:#9ECBFF"> 20251117-143000-feature-test</span><span style="color:#6A737D">      # Invalid type (use 'feat')</span></span>
<span class="line"><span style="color:#B392F0">‚ùå</span><span style="color:#9ECBFF"> 20251117-143000-FEAT-test</span><span style="color:#6A737D">         # Uppercase not allowed</span></span>
<span class="line"><span style="color:#B392F0">‚ùå</span><span style="color:#9ECBFF"> 20251117-143000-feat-Test_Case</span><span style="color:#6A737D">    # Underscores not allowed</span></span></code></pre>
<p><strong>Automated Validation</strong>:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D">#!/bin/bash</span></span>
<span class="line"><span style="color:#6A737D"># Branch name validator (to be integrated in pre-push hook)</span></span>
<span class="line"><span style="color:#E1E4E8">BRANCH_NAME</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">$(</span><span style="color:#B392F0">git</span><span style="color:#9ECBFF"> rev-parse</span><span style="color:#79B8FF"> --abbrev-ref</span><span style="color:#9ECBFF"> HEAD</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">PATTERN</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">'^[0-9]{8}-[0-9]{6}-(feat|fix|docs|refactor|test|chore|perf|style|ci)-[a-z0-9-]+$'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> [[ </span><span style="color:#F97583">!</span><span style="color:#9ECBFF"> "</span><span style="color:#E1E4E8">$BRANCH_NAME</span><span style="color:#9ECBFF">"</span><span style="color:#F97583"> =~</span><span style="color:#E1E4E8"> $PATTERN ]] &#x26;&#x26; [[ </span><span style="color:#9ECBFF">"</span><span style="color:#E1E4E8">$BRANCH_NAME</span><span style="color:#9ECBFF">"</span><span style="color:#F97583"> !=</span><span style="color:#9ECBFF"> "main"</span><span style="color:#E1E4E8"> ]]; </span><span style="color:#F97583">then</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "ERROR: Branch name does not follow constitutional format"</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "Expected: YYYYMMDD-HHMMSS-type-short-description"</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "Got: </span><span style="color:#E1E4E8">$BRANCH_NAME</span><span style="color:#9ECBFF">"</span></span>
<span class="line"><span style="color:#79B8FF">    exit</span><span style="color:#79B8FF"> 1</span></span>
<span class="line"><span style="color:#F97583">fi</span></span></code></pre>
<p><strong>Valid Branch Types</strong>:</p>
<ul>
<li><code>feat</code>: New features or significant enhancements</li>
<li><code>fix</code>: Bug fixes and corrections</li>
<li><code>docs</code>: Documentation updates only</li>
<li><code>refactor</code>: Code restructuring without behavior change</li>
<li><code>test</code>: Test additions or modifications</li>
<li><code>chore</code>: Maintenance tasks, dependency updates</li>
<li><code>perf</code>: Performance improvements</li>
<li><code>style</code>: Code formatting, whitespace changes</li>
<li><code>ci</code>: CI/CD pipeline and workflow changes</li>
</ul>
<h3 id="12-branch-preservation-rules">1.2 Branch Preservation Rules</h3>
<p><strong>CRITICAL</strong>: Branch deletion is PROHIBITED without explicit user permission.</p>
<p><strong>Validation Checkpoints</strong>:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Pre-delete validation (to be integrated in Git hooks)</span></span>
<span class="line"><span style="color:#6A737D">#!/bin/bash</span></span>
<span class="line"><span style="color:#6A737D"># Prevent accidental branch deletion</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> [[ </span><span style="color:#9ECBFF">"</span><span style="color:#79B8FF">$1</span><span style="color:#9ECBFF">"</span><span style="color:#F97583"> ==</span><span style="color:#9ECBFF"> "branch"</span><span style="color:#E1E4E8"> ]] &#x26;&#x26; [[ </span><span style="color:#9ECBFF">"</span><span style="color:#79B8FF">$2</span><span style="color:#9ECBFF">"</span><span style="color:#F97583"> ==</span><span style="color:#9ECBFF"> "-d"</span><span style="color:#F97583"> ||</span><span style="color:#9ECBFF"> "</span><span style="color:#79B8FF">$2</span><span style="color:#9ECBFF">"</span><span style="color:#F97583"> ==</span><span style="color:#9ECBFF"> "-D"</span><span style="color:#E1E4E8"> ]]; </span><span style="color:#F97583">then</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "CONSTITUTIONAL VIOLATION: Branch deletion is prohibited"</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "All branches contain valuable configuration history"</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "Contact repository owner for explicit permission"</span></span>
<span class="line"><span style="color:#79B8FF">    exit</span><span style="color:#79B8FF"> 1</span></span>
<span class="line"><span style="color:#F97583">fi</span></span></code></pre>
<p><strong>Protected Operations</strong>:</p>
<ul>
<li><code>git branch -d &#x3C;branch></code> - BLOCKED</li>
<li><code>git branch -D &#x3C;branch></code> - BLOCKED</li>
<li><code>git push origin --delete &#x3C;branch></code> - BLOCKED</li>
</ul>
<p><strong>Allowed Operations</strong>:</p>
<ul>
<li><code>git merge &#x3C;branch> --no-ff</code> - ALLOWED</li>
<li><code>git checkout &#x3C;branch></code> - ALLOWED</li>
<li><code>git push -u origin &#x3C;branch></code> - ALLOWED</li>
</ul>
<h3 id="13-merge-strategy-validation">1.3 Merge Strategy Validation</h3>
<p><strong>MANDATORY</strong>: All merges must use <code>--no-ff</code> (no fast-forward) to preserve history.</p>
<p><strong>Validation Rules</strong>:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Pre-merge validation</span></span>
<span class="line"><span style="color:#6A737D">#!/bin/bash</span></span>
<span class="line"><span style="color:#6A737D"># Ensure no-fast-forward merges</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#B392F0"> git</span><span style="color:#9ECBFF"> merge-base</span><span style="color:#79B8FF"> --is-ancestor</span><span style="color:#9ECBFF"> "</span><span style="color:#E1E4E8">$BRANCH</span><span style="color:#9ECBFF">"</span><span style="color:#9ECBFF"> main</span><span style="color:#E1E4E8">; </span><span style="color:#F97583">then</span></span>
<span class="line"><span style="color:#6A737D">    # Fast-forward merge possible - reject</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "ERROR: Fast-forward merge detected"</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "Use: git merge </span><span style="color:#E1E4E8">$BRANCH</span><span style="color:#9ECBFF"> --no-ff"</span></span>
<span class="line"><span style="color:#79B8FF">    exit</span><span style="color:#79B8FF"> 1</span></span>
<span class="line"><span style="color:#F97583">fi</span></span></code></pre>
<p><strong>Constitutional Merge Workflow</strong>:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># CORRECT workflow</span></span>
<span class="line"><span style="color:#B392F0">git</span><span style="color:#9ECBFF"> checkout</span><span style="color:#9ECBFF"> main</span></span>
<span class="line"><span style="color:#B392F0">git</span><span style="color:#9ECBFF"> merge</span><span style="color:#9ECBFF"> feature-branch</span><span style="color:#79B8FF"> --no-ff</span><span style="color:#79B8FF"> -m</span><span style="color:#9ECBFF"> "Merge feature: description"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># INCORRECT workflows (REJECTED)</span></span>
<span class="line"><span style="color:#B392F0">git</span><span style="color:#9ECBFF"> merge</span><span style="color:#9ECBFF"> feature-branch</span><span style="color:#6A737D">              # Missing --no-ff</span></span>
<span class="line"><span style="color:#B392F0">git</span><span style="color:#9ECBFF"> merge</span><span style="color:#9ECBFF"> feature-branch</span><span style="color:#79B8FF"> --ff-only</span><span style="color:#6A737D">    # Explicitly fast-forward</span></span>
<span class="line"><span style="color:#B392F0">git</span><span style="color:#9ECBFF"> rebase</span><span style="color:#9ECBFF"> feature-branch</span><span style="color:#6A737D">             # Rewriting history prohibited</span></span></code></pre>
<h2 id="2-commit-message-validation">2. Commit Message Validation</h2>
<h3 id="21-format-requirements">2.1 Format Requirements</h3>
<p><strong>MANDATORY Structure</strong>:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>&#x3C;imperative-description></span></span>
<span class="line"><span></span></span>
<span class="line"><span>[Optional: Detailed explanation of changes]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[Optional: Breaking changes, migration notes]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>ü§ñ Generated with [Claude Code](https://claude.ai/code)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Co-Authored-By: Claude &#x3C;noreply@anthropic.com></span></span></code></pre>
<p><strong>Validation Rules</strong>:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D">#!/bin/bash</span></span>
<span class="line"><span style="color:#6A737D"># Commit message validator (pre-commit hook)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">COMMIT_MSG_FILE</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"</span><span style="color:#79B8FF">$1</span><span style="color:#9ECBFF">"</span></span>
<span class="line"><span style="color:#E1E4E8">COMMIT_MSG</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">$(</span><span style="color:#B392F0">cat</span><span style="color:#9ECBFF"> "</span><span style="color:#E1E4E8">$COMMIT_MSG_FILE</span><span style="color:#9ECBFF">"</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Check for mandatory co-authorship</span></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#F97583"> !</span><span style="color:#B392F0"> grep</span><span style="color:#79B8FF"> -q</span><span style="color:#9ECBFF"> "Co-Authored-By: Claude"</span><span style="color:#9ECBFF"> "</span><span style="color:#E1E4E8">$COMMIT_MSG_FILE</span><span style="color:#9ECBFF">"</span><span style="color:#E1E4E8">; </span><span style="color:#F97583">then</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "ERROR: Missing mandatory co-authorship"</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "Add: Co-Authored-By: Claude &#x3C;noreply@anthropic.com>"</span></span>
<span class="line"><span style="color:#79B8FF">    exit</span><span style="color:#79B8FF"> 1</span></span>
<span class="line"><span style="color:#F97583">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Check for Claude Code attribution</span></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#F97583"> !</span><span style="color:#B392F0"> grep</span><span style="color:#79B8FF"> -q</span><span style="color:#9ECBFF"> "Generated with \[Claude Code\]"</span><span style="color:#9ECBFF"> "</span><span style="color:#E1E4E8">$COMMIT_MSG_FILE</span><span style="color:#9ECBFF">"</span><span style="color:#E1E4E8">; </span><span style="color:#F97583">then</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "WARNING: Missing Claude Code attribution"</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "Consider adding: ü§ñ Generated with [Claude Code](https://claude.ai/code)"</span></span>
<span class="line"><span style="color:#F97583">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Check subject line length (recommended &#x3C;50 chars)</span></span>
<span class="line"><span style="color:#E1E4E8">SUBJECT</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">$(</span><span style="color:#B392F0">head</span><span style="color:#79B8FF"> -n1</span><span style="color:#9ECBFF"> "</span><span style="color:#E1E4E8">$COMMIT_MSG_FILE</span><span style="color:#9ECBFF">"</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> [ ${</span><span style="color:#F97583">#</span><span style="color:#E1E4E8">SUBJECT} </span><span style="color:#F97583">-gt</span><span style="color:#79B8FF"> 72</span><span style="color:#E1E4E8"> ]; </span><span style="color:#F97583">then</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "WARNING: Subject line exceeds 72 characters"</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "Consider shortening for better Git log readability"</span></span>
<span class="line"><span style="color:#F97583">fi</span></span></code></pre>
<h3 id="22-co-authorship-requirements">2.2 Co-Authorship Requirements</h3>
<p><strong>MANDATORY for AI-assisted commits</strong>:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>Co-Authored-By: Claude &#x3C;noreply@anthropic.com></span></span></code></pre>
<p><strong>Optional additional co-authors</strong>:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>Co-Authored-By: Human Name &#x3C;human@email.com></span></span>
<span class="line"><span>Co-Authored-By: Gemini &#x3C;noreply@google.com></span></span></code></pre>
<h3 id="23-prohibited-commit-patterns">2.3 Prohibited Commit Patterns</h3>
<p><strong>BLOCKED commit messages</strong>:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Empty or minimal commits</span></span>
<span class="line"><span style="color:#B392F0">‚ùå</span><span style="color:#9ECBFF"> "update"</span></span>
<span class="line"><span style="color:#B392F0">‚ùå</span><span style="color:#9ECBFF"> "fix"</span></span>
<span class="line"><span style="color:#B392F0">‚ùå</span><span style="color:#9ECBFF"> "wip"</span></span>
<span class="line"><span style="color:#B392F0">‚ùå</span><span style="color:#9ECBFF"> "temp"</span></span>
<span class="line"><span style="color:#B392F0">‚ùå</span><span style="color:#9ECBFF"> "test"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Missing context</span></span>
<span class="line"><span style="color:#B392F0">‚ùå</span><span style="color:#9ECBFF"> "Update README"</span><span style="color:#6A737D">  # What was updated? Why?</span></span>
<span class="line"><span style="color:#B392F0">‚ùå</span><span style="color:#9ECBFF"> "Fix bug"</span><span style="color:#6A737D">        # Which bug? How?</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># All-caps</span></span>
<span class="line"><span style="color:#B392F0">‚ùå</span><span style="color:#9ECBFF"> "FIX CRITICAL BUG"</span><span style="color:#6A737D">  # Use sentence case</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Inappropriate content</span></span>
<span class="line"><span style="color:#B392F0">‚ùå</span><span style="color:#9ECBFF"> Commits</span><span style="color:#9ECBFF"> with</span><span style="color:#9ECBFF"> profanity</span></span>
<span class="line"><span style="color:#B392F0">‚ùå</span><span style="color:#9ECBFF"> Commits</span><span style="color:#9ECBFF"> with</span><span style="color:#9ECBFF"> sensitive</span><span style="color:#9ECBFF"> data</span><span style="color:#9ECBFF"> references</span></span></code></pre>
<p><strong>REQUIRED commit messages</strong>:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">‚úÖ</span><span style="color:#9ECBFF"> "Add Context7 MCP integration for up-to-date documentation"</span></span>
<span class="line"><span style="color:#B392F0">‚úÖ</span><span style="color:#9ECBFF"> "Fix branch naming validation in pre-push Git hook"</span></span>
<span class="line"><span style="color:#B392F0">‚úÖ</span><span style="color:#9ECBFF"> "Update AGENTS.md to document constitutional compliance criteria"</span></span>
<span class="line"><span style="color:#B392F0">‚úÖ</span><span style="color:#9ECBFF"> "Refactor local CI/CD workflow for improved performance"</span></span></code></pre>
<h2 id="3-documentation-validation">3. Documentation Validation</h2>
<h3 id="31-symlink-integrity-checks">3.1 Symlink Integrity Checks</h3>
<p><strong>CRITICAL</strong>: CLAUDE.md and GEMINI.md must be symlinks to AGENTS.md</p>
<p><strong>Validation Script</strong>:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D">#!/bin/bash</span></span>
<span class="line"><span style="color:#6A737D"># Symlink integrity validator</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">validate_symlink</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">    local</span><span style="color:#E1E4E8"> LINK</span><span style="color:#F97583">=</span><span style="color:#FFAB70">$1</span></span>
<span class="line"><span style="color:#F97583">    local</span><span style="color:#E1E4E8"> TARGET</span><span style="color:#F97583">=</span><span style="color:#FFAB70">$2</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> [ </span><span style="color:#F97583">!</span><span style="color:#F97583"> -L</span><span style="color:#9ECBFF"> "</span><span style="color:#E1E4E8">$LINK</span><span style="color:#9ECBFF">"</span><span style="color:#E1E4E8"> ]; </span><span style="color:#F97583">then</span></span>
<span class="line"><span style="color:#79B8FF">        echo</span><span style="color:#9ECBFF"> "ERROR: </span><span style="color:#E1E4E8">$LINK</span><span style="color:#9ECBFF"> is not a symlink"</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#79B8FF"> 1</span></span>
<span class="line"><span style="color:#F97583">    fi</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> [ </span><span style="color:#9ECBFF">"$(</span><span style="color:#B392F0">readlink</span><span style="color:#79B8FF"> -f</span><span style="color:#E1E4E8"> $LINK</span><span style="color:#9ECBFF">)"</span><span style="color:#F97583"> !=</span><span style="color:#9ECBFF"> "$(</span><span style="color:#B392F0">readlink</span><span style="color:#79B8FF"> -f</span><span style="color:#E1E4E8"> $TARGET</span><span style="color:#9ECBFF">)"</span><span style="color:#E1E4E8"> ]; </span><span style="color:#F97583">then</span></span>
<span class="line"><span style="color:#79B8FF">        echo</span><span style="color:#9ECBFF"> "ERROR: </span><span style="color:#E1E4E8">$LINK</span><span style="color:#9ECBFF"> does not point to </span><span style="color:#E1E4E8">$TARGET</span><span style="color:#9ECBFF">"</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#79B8FF"> 1</span></span>
<span class="line"><span style="color:#F97583">    fi</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "‚úì </span><span style="color:#E1E4E8">$LINK</span><span style="color:#9ECBFF"> correctly linked to </span><span style="color:#E1E4E8">$TARGET</span><span style="color:#9ECBFF">"</span></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Validate all required symlinks</span></span>
<span class="line"><span style="color:#B392F0">validate_symlink</span><span style="color:#9ECBFF"> "CLAUDE.md"</span><span style="color:#9ECBFF"> "AGENTS.md"</span></span>
<span class="line"><span style="color:#B392F0">validate_symlink</span><span style="color:#9ECBFF"> "GEMINI.md"</span><span style="color:#9ECBFF"> "AGENTS.md"</span></span></code></pre>
<p><strong>Repair Script</strong>:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D">#!/bin/bash</span></span>
<span class="line"><span style="color:#6A737D"># Symlink repair (run if validation fails)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">rm</span><span style="color:#79B8FF"> -f</span><span style="color:#9ECBFF"> CLAUDE.md</span><span style="color:#9ECBFF"> GEMINI.md</span></span>
<span class="line"><span style="color:#B392F0">ln</span><span style="color:#79B8FF"> -s</span><span style="color:#9ECBFF"> AGENTS.md</span><span style="color:#9ECBFF"> CLAUDE.md</span></span>
<span class="line"><span style="color:#B392F0">ln</span><span style="color:#79B8FF"> -s</span><span style="color:#9ECBFF"> AGENTS.md</span><span style="color:#9ECBFF"> GEMINI.md</span></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> "‚úì Symlinks restored"</span></span></code></pre>
<h3 id="32-agentsmd-size-limits">3.2 AGENTS.md Size Limits</h3>
<p><strong>CRITICAL</strong>: AGENTS.md must stay under 40KB for optimal LLM processing</p>
<p><strong>Validation Thresholds</strong>:</p>
<ul>
<li>Green Zone (Excellent): 0-30KB - No action required</li>
<li>Yellow Zone (Warning): 30-35KB - Proactive modularization recommended</li>
<li>Orange Zone (Critical): 35-40KB - Modularization required</li>
<li>Red Zone (Violation): >40KB - Emergency modularization required</li>
</ul>
<p><strong>Automated Size Check</strong>:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D">#!/bin/bash</span></span>
<span class="line"><span style="color:#6A737D"># AGENTS.md size validator</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">AGENTS_FILE</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"AGENTS.md"</span></span>
<span class="line"><span style="color:#E1E4E8">AGENTS_SIZE</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">$(</span><span style="color:#79B8FF">stat</span><span style="color:#79B8FF"> -c%s</span><span style="color:#9ECBFF"> "</span><span style="color:#E1E4E8">$AGENTS_FILE</span><span style="color:#9ECBFF">"</span><span style="color:#F97583"> 2></span><span style="color:#9ECBFF">/dev/null</span><span style="color:#F97583"> ||</span><span style="color:#79B8FF"> stat</span><span style="color:#79B8FF"> -f%z</span><span style="color:#9ECBFF"> "</span><span style="color:#E1E4E8">$AGENTS_FILE</span><span style="color:#9ECBFF">"</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">AGENTS_KB</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">$((</span><span style="color:#B392F0">AGENTS_SIZE</span><span style="color:#9ECBFF"> /</span><span style="color:#79B8FF"> 1024</span><span style="color:#E1E4E8">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> "AGENTS.md Current Size: ${</span><span style="color:#E1E4E8">AGENTS_KB</span><span style="color:#9ECBFF">}KB"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> [ $AGENTS_KB </span><span style="color:#F97583">-gt</span><span style="color:#79B8FF"> 40</span><span style="color:#E1E4E8"> ]; </span><span style="color:#F97583">then</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "üö® RED ZONE: Size violation (${</span><span style="color:#E1E4E8">AGENTS_KB</span><span style="color:#9ECBFF">}KB > 40KB)"</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "BLOCKING COMMIT: Emergency modularization required"</span></span>
<span class="line"><span style="color:#79B8FF">    exit</span><span style="color:#79B8FF"> 1</span></span>
<span class="line"><span style="color:#F97583">elif</span><span style="color:#E1E4E8"> [ $AGENTS_KB </span><span style="color:#F97583">-gt</span><span style="color:#79B8FF"> 35</span><span style="color:#E1E4E8"> ]; </span><span style="color:#F97583">then</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "‚ö†Ô∏è ORANGE ZONE: Critical size (${</span><span style="color:#E1E4E8">AGENTS_KB</span><span style="color:#9ECBFF">}KB)"</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "WARNING: Modularization required before next commit"</span></span>
<span class="line"><span style="color:#79B8FF">    exit</span><span style="color:#79B8FF"> 0</span><span style="color:#6A737D">  # Allow commit but warn</span></span>
<span class="line"><span style="color:#F97583">elif</span><span style="color:#E1E4E8"> [ $AGENTS_KB </span><span style="color:#F97583">-gt</span><span style="color:#79B8FF"> 30</span><span style="color:#E1E4E8"> ]; </span><span style="color:#F97583">then</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "‚ö° YELLOW ZONE: Warning size (${</span><span style="color:#E1E4E8">AGENTS_KB</span><span style="color:#9ECBFF">}KB)"</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "RECOMMENDATION: Proactive modularization recommended"</span></span>
<span class="line"><span style="color:#79B8FF">    exit</span><span style="color:#79B8FF"> 0</span></span>
<span class="line"><span style="color:#F97583">else</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "‚úÖ GREEN ZONE: Size compliant (${</span><span style="color:#E1E4E8">AGENTS_KB</span><span style="color:#9ECBFF">}KB)"</span></span>
<span class="line"><span style="color:#79B8FF">    exit</span><span style="color:#79B8FF"> 0</span></span>
<span class="line"><span style="color:#F97583">fi</span></span></code></pre>
<h3 id="33-cross-reference-validation">3.3 Cross-Reference Validation</h3>
<p><strong>MANDATORY</strong>: All internal links must resolve to valid files</p>
<p><strong>Link Validator</strong>:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D">#!/bin/bash</span></span>
<span class="line"><span style="color:#6A737D"># Documentation link validator</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B392F0">validate_markdown_links</span><span style="color:#E1E4E8">() {</span></span>
<span class="line"><span style="color:#F97583">    local</span><span style="color:#E1E4E8"> FILE</span><span style="color:#F97583">=</span><span style="color:#FFAB70">$1</span></span>
<span class="line"><span style="color:#F97583">    local</span><span style="color:#E1E4E8"> BROKEN_LINKS</span><span style="color:#F97583">=</span><span style="color:#79B8FF">0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">    # Extract all markdown links</span></span>
<span class="line"><span style="color:#B392F0">    grep</span><span style="color:#79B8FF"> -o</span><span style="color:#9ECBFF"> '\[.*\](.*\.md)'</span><span style="color:#9ECBFF"> "</span><span style="color:#E1E4E8">$FILE</span><span style="color:#9ECBFF">"</span><span style="color:#F97583"> |</span><span style="color:#F97583"> while</span><span style="color:#79B8FF"> read</span><span style="color:#9ECBFF"> link</span><span style="color:#E1E4E8">; </span><span style="color:#F97583">do</span></span>
<span class="line"><span style="color:#6A737D">        # Extract file path</span></span>
<span class="line"><span style="color:#E1E4E8">        LINKED_FILE</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">$(</span><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> "</span><span style="color:#E1E4E8">$link</span><span style="color:#9ECBFF">"</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> sed</span><span style="color:#79B8FF"> -n</span><span style="color:#9ECBFF"> 's/.*(\(.*\))/\1/p'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">        # Check if file exists</span></span>
<span class="line"><span style="color:#F97583">        if</span><span style="color:#E1E4E8"> [ </span><span style="color:#F97583">-f</span><span style="color:#9ECBFF"> "</span><span style="color:#E1E4E8">$LINKED_FILE</span><span style="color:#9ECBFF">"</span><span style="color:#E1E4E8"> ]; </span><span style="color:#F97583">then</span></span>
<span class="line"><span style="color:#79B8FF">            echo</span><span style="color:#9ECBFF"> "‚úì Valid link: </span><span style="color:#E1E4E8">$LINKED_FILE</span><span style="color:#9ECBFF">"</span></span>
<span class="line"><span style="color:#F97583">        else</span></span>
<span class="line"><span style="color:#79B8FF">            echo</span><span style="color:#9ECBFF"> "‚úó Broken link: </span><span style="color:#E1E4E8">$LINKED_FILE</span><span style="color:#9ECBFF">"</span></span>
<span class="line"><span style="color:#E1E4E8">            BROKEN_LINKS</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">$((</span><span style="color:#B392F0">BROKEN_LINKS</span><span style="color:#9ECBFF"> +</span><span style="color:#79B8FF"> 1</span><span style="color:#E1E4E8">))</span></span>
<span class="line"><span style="color:#F97583">        fi</span></span>
<span class="line"><span style="color:#F97583">    done</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> [ $BROKEN_LINKS </span><span style="color:#F97583">-gt</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8"> ]; </span><span style="color:#F97583">then</span></span>
<span class="line"><span style="color:#79B8FF">        echo</span><span style="color:#9ECBFF"> "ERROR: Found </span><span style="color:#E1E4E8">$BROKEN_LINKS</span><span style="color:#9ECBFF"> broken links in </span><span style="color:#E1E4E8">$FILE</span><span style="color:#9ECBFF">"</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#79B8FF"> 1</span></span>
<span class="line"><span style="color:#F97583">    fi</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">    return</span><span style="color:#79B8FF"> 0</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Validate all documentation files</span></span>
<span class="line"><span style="color:#B392F0">validate_markdown_links</span><span style="color:#9ECBFF"> "AGENTS.md"</span></span>
<span class="line"><span style="color:#B392F0">validate_markdown_links</span><span style="color:#9ECBFF"> "README.md"</span></span>
<span class="line"><span style="color:#B392F0">validate_markdown_links</span><span style="color:#9ECBFF"> "docs-setup/context7-mcp.md"</span></span>
<span class="line"><span style="color:#B392F0">validate_markdown_links</span><span style="color:#9ECBFF"> "docs-setup/github-mcp.md"</span></span></code></pre>
<h3 id="34-nojekyll-file-validation">3.4 .nojekyll File Validation</h3>
<p><strong>CRITICAL</strong>: docs/.nojekyll must exist for GitHub Pages</p>
<p><strong>Validator</strong>:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D">#!/bin/bash</span></span>
<span class="line"><span style="color:#6A737D"># .nojekyll file validator (CRITICAL for GitHub Pages)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">NOJEKYLL_FILE</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"docs/.nojekyll"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> [ </span><span style="color:#F97583">!</span><span style="color:#F97583"> -f</span><span style="color:#9ECBFF"> "</span><span style="color:#E1E4E8">$NOJEKYLL_FILE</span><span style="color:#9ECBFF">"</span><span style="color:#E1E4E8"> ]; </span><span style="color:#F97583">then</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "üö® CRITICAL ERROR: docs/.nojekyll is missing"</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "This file is REQUIRED for GitHub Pages asset loading"</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "Without it, ALL CSS/JS assets will return 404 errors"</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> ""</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "Creating file now..."</span></span>
<span class="line"><span style="color:#B392F0">    touch</span><span style="color:#9ECBFF"> "</span><span style="color:#E1E4E8">$NOJEKYLL_FILE</span><span style="color:#9ECBFF">"</span></span>
<span class="line"><span style="color:#B392F0">    git</span><span style="color:#9ECBFF"> add</span><span style="color:#9ECBFF"> "</span><span style="color:#E1E4E8">$NOJEKYLL_FILE</span><span style="color:#9ECBFF">"</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "‚úì docs/.nojekyll created and staged"</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> ""</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "IMPORTANT: Commit this file immediately:"</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "git commit -m 'CRITICAL: Restore .nojekyll for GitHub Pages'"</span></span>
<span class="line"><span style="color:#79B8FF">    exit</span><span style="color:#79B8FF"> 1</span></span>
<span class="line"><span style="color:#F97583">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> "‚úì docs/.nojekyll exists"</span></span>
<span class="line"><span style="color:#79B8FF">exit</span><span style="color:#79B8FF"> 0</span></span></code></pre>
<h2 id="4-quality-gate-definitions">4. Quality Gate Definitions</h2>
<h3 id="41-pre-commit-gates-local-validation">4.1 Pre-Commit Gates (LOCAL VALIDATION)</h3>
<p><strong>BLOCKING conditions</strong> (commit rejected):</p>
<ol>
<li>AGENTS.md size exceeds 40KB</li>
<li>Symlinks broken (CLAUDE.md, GEMINI.md)</li>
<li>Commit message missing co-authorship</li>
<li>Configuration validation fails (ghostty +show-config)</li>
<li>docs/.nojekyll file missing</li>
</ol>
<p><strong>WARNING conditions</strong> (commit allowed with warning):</p>
<ol>
<li>AGENTS.md size 35-40KB</li>
<li>Commit message lacks Claude Code attribution</li>
<li>Branch name doesn‚Äôt follow convention (if on feature branch)</li>
</ol>
<p><strong>Pre-Commit Hook Script</strong>:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D">#!/bin/bash</span></span>
<span class="line"><span style="color:#6A737D"># .git/hooks/pre-commit - Constitutional compliance validation</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">set</span><span style="color:#79B8FF"> -e</span><span style="color:#6A737D">  # Exit on first error</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> "Running constitutional compliance checks..."</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># 1. AGENTS.md size validation (BLOCKING)</span></span>
<span class="line"><span style="color:#E1E4E8">AGENTS_SIZE</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">$(</span><span style="color:#79B8FF">stat</span><span style="color:#79B8FF"> -c%s</span><span style="color:#9ECBFF"> "AGENTS.md"</span><span style="color:#F97583"> 2></span><span style="color:#9ECBFF">/dev/null</span><span style="color:#F97583"> ||</span><span style="color:#79B8FF"> stat</span><span style="color:#79B8FF"> -f%z</span><span style="color:#9ECBFF"> "AGENTS.md"</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">AGENTS_KB</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">$((</span><span style="color:#B392F0">AGENTS_SIZE</span><span style="color:#9ECBFF"> /</span><span style="color:#79B8FF"> 1024</span><span style="color:#E1E4E8">))</span></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> [ $AGENTS_KB </span><span style="color:#F97583">-gt</span><span style="color:#79B8FF"> 40</span><span style="color:#E1E4E8"> ]; </span><span style="color:#F97583">then</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "üö® BLOCKING: AGENTS.md exceeds 40KB (${</span><span style="color:#E1E4E8">AGENTS_KB</span><span style="color:#9ECBFF">}KB)"</span></span>
<span class="line"><span style="color:#79B8FF">    exit</span><span style="color:#79B8FF"> 1</span></span>
<span class="line"><span style="color:#F97583">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># 2. Symlink validation (BLOCKING)</span></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> [ </span><span style="color:#F97583">!</span><span style="color:#F97583"> -L</span><span style="color:#9ECBFF"> "CLAUDE.md"</span><span style="color:#E1E4E8"> ] </span><span style="color:#F97583">||</span><span style="color:#E1E4E8"> [ </span><span style="color:#F97583">!</span><span style="color:#F97583"> -L</span><span style="color:#9ECBFF"> "GEMINI.md"</span><span style="color:#E1E4E8"> ]; </span><span style="color:#F97583">then</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "üö® BLOCKING: Documentation symlinks broken"</span></span>
<span class="line"><span style="color:#79B8FF">    exit</span><span style="color:#79B8FF"> 1</span></span>
<span class="line"><span style="color:#F97583">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># 3. .nojekyll validation (BLOCKING)</span></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> [ </span><span style="color:#F97583">!</span><span style="color:#F97583"> -f</span><span style="color:#9ECBFF"> "docs/.nojekyll"</span><span style="color:#E1E4E8"> ]; </span><span style="color:#F97583">then</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "üö® BLOCKING: docs/.nojekyll missing (CRITICAL for GitHub Pages)"</span></span>
<span class="line"><span style="color:#B392F0">    touch</span><span style="color:#9ECBFF"> "docs/.nojekyll"</span></span>
<span class="line"><span style="color:#B392F0">    git</span><span style="color:#9ECBFF"> add</span><span style="color:#9ECBFF"> "docs/.nojekyll"</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "‚úì Created docs/.nojekyll - commit will proceed"</span></span>
<span class="line"><span style="color:#F97583">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># 4. Configuration validation (BLOCKING)</span></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#F97583"> !</span><span style="color:#B392F0"> ghostty</span><span style="color:#9ECBFF"> +show-config</span><span style="color:#F97583"> ></span><span style="color:#9ECBFF"> /dev/null</span><span style="color:#F97583"> 2>&#x26;1</span><span style="color:#E1E4E8">; </span><span style="color:#F97583">then</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "üö® BLOCKING: Ghostty configuration invalid"</span></span>
<span class="line"><span style="color:#79B8FF">    exit</span><span style="color:#79B8FF"> 1</span></span>
<span class="line"><span style="color:#F97583">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> "‚úÖ All constitutional compliance checks passed"</span></span>
<span class="line"><span style="color:#79B8FF">exit</span><span style="color:#79B8FF"> 0</span></span></code></pre>
<h3 id="42-pre-push-gates-branch-validation">4.2 Pre-Push Gates (BRANCH VALIDATION)</h3>
<p><strong>BLOCKING conditions</strong> (push rejected):</p>
<ol>
<li>Branch name doesn‚Äôt follow YYYYMMDD-HHMMSS-type-description pattern</li>
<li>Attempting to delete a branch</li>
<li>Attempting to force push to main</li>
</ol>
<p><strong>Pre-Push Hook Script</strong>:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D">#!/bin/bash</span></span>
<span class="line"><span style="color:#6A737D"># .git/hooks/pre-push - Branch validation</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">BRANCH_NAME</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">$(</span><span style="color:#B392F0">git</span><span style="color:#9ECBFF"> rev-parse</span><span style="color:#79B8FF"> --abbrev-ref</span><span style="color:#9ECBFF"> HEAD</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">PATTERN</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">'^[0-9]{8}-[0-9]{6}-(feat|fix|docs|refactor|test|chore|perf|style|ci)-[a-z0-9-]+$'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Allow main branch</span></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> [[ </span><span style="color:#9ECBFF">"</span><span style="color:#E1E4E8">$BRANCH_NAME</span><span style="color:#9ECBFF">"</span><span style="color:#F97583"> ==</span><span style="color:#9ECBFF"> "main"</span><span style="color:#E1E4E8"> ]]; </span><span style="color:#F97583">then</span></span>
<span class="line"><span style="color:#79B8FF">    exit</span><span style="color:#79B8FF"> 0</span></span>
<span class="line"><span style="color:#F97583">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Validate feature branch naming</span></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> [[ </span><span style="color:#F97583">!</span><span style="color:#9ECBFF"> "</span><span style="color:#E1E4E8">$BRANCH_NAME</span><span style="color:#9ECBFF">"</span><span style="color:#F97583"> =~</span><span style="color:#E1E4E8"> $PATTERN ]]; </span><span style="color:#F97583">then</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "üö® BLOCKING: Branch name doesn't follow constitutional format"</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "Expected: YYYYMMDD-HHMMSS-type-short-description"</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "Got: </span><span style="color:#E1E4E8">$BRANCH_NAME</span><span style="color:#9ECBFF">"</span></span>
<span class="line"><span style="color:#79B8FF">    exit</span><span style="color:#79B8FF"> 1</span></span>
<span class="line"><span style="color:#F97583">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> "‚úÖ Branch name validation passed"</span></span>
<span class="line"><span style="color:#79B8FF">exit</span><span style="color:#79B8FF"> 0</span></span></code></pre>
<h3 id="43-pre-deployment-gates-cicd-validation">4.3 Pre-Deployment Gates (CI/CD VALIDATION)</h3>
<p><strong>BLOCKING conditions</strong> (deployment rejected):</p>
<ol>
<li>Local CI/CD workflow not run</li>
<li>Any CI/CD stage failed</li>
<li>GitHub Actions minutes consumed</li>
<li>Astro build failed</li>
<li>Performance benchmarks below thresholds</li>
</ol>
<p><strong>Deployment Validation Script</strong>:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D">#!/bin/bash</span></span>
<span class="line"><span style="color:#6A737D"># Pre-deployment constitutional validation</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">set</span><span style="color:#79B8FF"> -e</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> "Running pre-deployment validation..."</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># 1. Local CI/CD execution check</span></span>
<span class="line"><span style="color:#E1E4E8">LATEST_WORKFLOW_LOG</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">$(</span><span style="color:#B392F0">ls</span><span style="color:#79B8FF"> -t</span><span style="color:#9ECBFF"> .runners-local/logs/workflow-</span><span style="color:#79B8FF">*</span><span style="color:#9ECBFF">.log</span><span style="color:#F97583"> 2></span><span style="color:#9ECBFF">/dev/null</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> head</span><span style="color:#79B8FF"> -n1</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> [ </span><span style="color:#F97583">-z</span><span style="color:#9ECBFF"> "</span><span style="color:#E1E4E8">$LATEST_WORKFLOW_LOG</span><span style="color:#9ECBFF">"</span><span style="color:#E1E4E8"> ]; </span><span style="color:#F97583">then</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "üö® BLOCKING: No local CI/CD workflow logs found"</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "Run: ./.runners-local/workflows/gh-workflow-local.sh all"</span></span>
<span class="line"><span style="color:#79B8FF">    exit</span><span style="color:#79B8FF"> 1</span></span>
<span class="line"><span style="color:#F97583">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># 2. Check workflow success</span></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#F97583"> !</span><span style="color:#B392F0"> grep</span><span style="color:#79B8FF"> -q</span><span style="color:#9ECBFF"> "SUCCESS"</span><span style="color:#9ECBFF"> "</span><span style="color:#E1E4E8">$LATEST_WORKFLOW_LOG</span><span style="color:#9ECBFF">"</span><span style="color:#E1E4E8">; </span><span style="color:#F97583">then</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "üö® BLOCKING: Local CI/CD workflow failed"</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "Review: </span><span style="color:#E1E4E8">$LATEST_WORKFLOW_LOG</span><span style="color:#9ECBFF">"</span></span>
<span class="line"><span style="color:#79B8FF">    exit</span><span style="color:#79B8FF"> 1</span></span>
<span class="line"><span style="color:#F97583">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># 3. GitHub Actions cost verification</span></span>
<span class="line"><span style="color:#E1E4E8">ACTIONS_USAGE</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">$(</span><span style="color:#B392F0">gh</span><span style="color:#9ECBFF"> api</span><span style="color:#9ECBFF"> user/settings/billing/actions</span><span style="color:#79B8FF"> --jq</span><span style="color:#9ECBFF"> '.total_minutes_used'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> [ </span><span style="color:#9ECBFF">"</span><span style="color:#E1E4E8">$ACTIONS_USAGE</span><span style="color:#9ECBFF">"</span><span style="color:#F97583"> -gt</span><span style="color:#79B8FF"> 0</span><span style="color:#E1E4E8"> ]; </span><span style="color:#F97583">then</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "‚ö†Ô∏è WARNING: GitHub Actions minutes consumed: </span><span style="color:#E1E4E8">$ACTIONS_USAGE</span><span style="color:#9ECBFF">"</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "This violates zero-cost operation requirement"</span></span>
<span class="line"><span style="color:#F97583">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># 4. Astro build validation (if website changes)</span></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#B392F0"> git</span><span style="color:#9ECBFF"> diff</span><span style="color:#79B8FF"> --name-only</span><span style="color:#9ECBFF"> HEAD~1</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> grep</span><span style="color:#79B8FF"> -q</span><span style="color:#9ECBFF"> "^website/"</span><span style="color:#E1E4E8">; </span><span style="color:#F97583">then</span></span>
<span class="line"><span style="color:#F97583">    if</span><span style="color:#E1E4E8"> [ </span><span style="color:#F97583">!</span><span style="color:#F97583"> -f</span><span style="color:#9ECBFF"> "docs/index.html"</span><span style="color:#E1E4E8"> ]; </span><span style="color:#F97583">then</span></span>
<span class="line"><span style="color:#79B8FF">        echo</span><span style="color:#9ECBFF"> "üö® BLOCKING: Astro build output missing"</span></span>
<span class="line"><span style="color:#79B8FF">        exit</span><span style="color:#79B8FF"> 1</span></span>
<span class="line"><span style="color:#F97583">    fi</span></span>
<span class="line"><span style="color:#F97583">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> "‚úÖ Pre-deployment validation passed"</span></span>
<span class="line"><span style="color:#79B8FF">exit</span><span style="color:#79B8FF"> 0</span></span></code></pre>
<h3 id="44-automatic-vs-manual-gates">4.4 Automatic vs Manual Gates</h3>
<p><strong>Automatic Gates</strong> (enforced by Git hooks):</p>
<ul>
<li>Pre-commit: AGENTS.md size, symlinks, .nojekyll, config validation</li>
<li>Pre-push: Branch naming, branch deletion prevention</li>
<li>Pre-receive: Force push prevention on main</li>
</ul>
<p><strong>Manual Gates</strong> (require human verification):</p>
<ul>
<li>Code review for significant changes</li>
<li>Security review for credential-related changes</li>
<li>Performance review for CI/CD modifications</li>
<li>User acceptance for UI/UX changes</li>
</ul>
<h2 id="5-git-hook-integration">5. Git Hook Integration</h2>
<h3 id="51-installation-script">5.1 Installation Script</h3>
<p><strong>Script</strong>: <code>.runners-local/workflows/install-git-hooks.sh</code></p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D">#!/bin/bash</span></span>
<span class="line"><span style="color:#6A737D"># Install constitutional compliance Git hooks</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">set</span><span style="color:#79B8FF"> -e</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">HOOKS_DIR</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">".git/hooks"</span></span>
<span class="line"><span style="color:#E1E4E8">HOOK_SOURCE_DIR</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">".runners-local/git-hooks"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> "Installing constitutional compliance Git hooks..."</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Create hooks directory if it doesn't exist</span></span>
<span class="line"><span style="color:#B392F0">mkdir</span><span style="color:#79B8FF"> -p</span><span style="color:#9ECBFF"> "</span><span style="color:#E1E4E8">$HOOKS_DIR</span><span style="color:#9ECBFF">"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Install pre-commit hook</span></span>
<span class="line"><span style="color:#B392F0">cp</span><span style="color:#9ECBFF"> "</span><span style="color:#E1E4E8">$HOOK_SOURCE_DIR</span><span style="color:#9ECBFF">/pre-commit"</span><span style="color:#9ECBFF"> "</span><span style="color:#E1E4E8">$HOOKS_DIR</span><span style="color:#9ECBFF">/pre-commit"</span></span>
<span class="line"><span style="color:#B392F0">chmod</span><span style="color:#9ECBFF"> +x</span><span style="color:#9ECBFF"> "</span><span style="color:#E1E4E8">$HOOKS_DIR</span><span style="color:#9ECBFF">/pre-commit"</span></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> "‚úì Installed pre-commit hook"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Install pre-push hook</span></span>
<span class="line"><span style="color:#B392F0">cp</span><span style="color:#9ECBFF"> "</span><span style="color:#E1E4E8">$HOOK_SOURCE_DIR</span><span style="color:#9ECBFF">/pre-push"</span><span style="color:#9ECBFF"> "</span><span style="color:#E1E4E8">$HOOKS_DIR</span><span style="color:#9ECBFF">/pre-push"</span></span>
<span class="line"><span style="color:#B392F0">chmod</span><span style="color:#9ECBFF"> +x</span><span style="color:#9ECBFF"> "</span><span style="color:#E1E4E8">$HOOKS_DIR</span><span style="color:#9ECBFF">/pre-push"</span></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> "‚úì Installed pre-push hook"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Install commit-msg hook</span></span>
<span class="line"><span style="color:#B392F0">cp</span><span style="color:#9ECBFF"> "</span><span style="color:#E1E4E8">$HOOK_SOURCE_DIR</span><span style="color:#9ECBFF">/commit-msg"</span><span style="color:#9ECBFF"> "</span><span style="color:#E1E4E8">$HOOKS_DIR</span><span style="color:#9ECBFF">/commit-msg"</span></span>
<span class="line"><span style="color:#B392F0">chmod</span><span style="color:#9ECBFF"> +x</span><span style="color:#9ECBFF"> "</span><span style="color:#E1E4E8">$HOOKS_DIR</span><span style="color:#9ECBFF">/commit-msg"</span></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> "‚úì Installed commit-msg hook"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> "‚úÖ All Git hooks installed successfully"</span></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> ""</span></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> "Hooks installed:"</span></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> "  - pre-commit: AGENTS.md size, symlinks, config validation"</span></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> "  - pre-push: Branch naming validation"</span></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> "  - commit-msg: Co-authorship verification"</span></span></code></pre>
<h3 id="52-hook-source-files-location">5.2 Hook Source Files Location</h3>
<p><strong>Directory</strong>: <code>.runners-local/git-hooks/</code> (committed to repository)</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>.runners-local/git-hooks/</span></span>
<span class="line"><span>‚îú‚îÄ‚îÄ pre-commit           # Size, symlink, config validation</span></span>
<span class="line"><span>‚îú‚îÄ‚îÄ pre-push             # Branch naming validation</span></span>
<span class="line"><span>‚îú‚îÄ‚îÄ commit-msg           # Co-authorship verification</span></span>
<span class="line"><span>‚îî‚îÄ‚îÄ README.md            # Hook documentation</span></span></code></pre>
<h3 id="53-hook-bypass-emergency-only">5.3 Hook Bypass (EMERGENCY ONLY)</h3>
<p><strong>Emergency bypass</strong> (use only when absolutely necessary):</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Bypass all hooks for emergency fix</span></span>
<span class="line"><span style="color:#B392F0">git</span><span style="color:#9ECBFF"> commit</span><span style="color:#79B8FF"> --no-verify</span><span style="color:#79B8FF"> -m</span><span style="color:#9ECBFF"> "Emergency fix: description"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Bypass only pre-commit hook</span></span>
<span class="line"><span style="color:#E1E4E8">SKIP</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">pre-commit</span><span style="color:#B392F0"> git</span><span style="color:#9ECBFF"> commit</span><span style="color:#79B8FF"> -m</span><span style="color:#9ECBFF"> "Description"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Bypass only pre-push hook</span></span>
<span class="line"><span style="color:#B392F0">git</span><span style="color:#9ECBFF"> push</span><span style="color:#79B8FF"> --no-verify</span></span></code></pre>
<p><strong>IMPORTANT</strong>: Bypassing hooks violates constitutional compliance. Use only for:</p>
<ul>
<li>Emergency hotfixes</li>
<li>Fixing broken hooks</li>
<li>Repository recovery operations</li>
</ul>
<p>Document all hook bypasses in commit messages and conversation logs.</p>
<h2 id="6-compliance-monitoring">6. Compliance Monitoring</h2>
<h3 id="61-daily-compliance-checks">6.1 Daily Compliance Checks</h3>
<p><strong>Automated daily validation</strong> (add to cron):</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D">#!/bin/bash</span></span>
<span class="line"><span style="color:#6A737D"># Daily constitutional compliance check</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">REPO_PATH</span><span style="color:#F97583">=</span><span style="color:#9ECBFF">"/home/kkk/Apps/ghostty-config-files"</span></span>
<span class="line"><span style="color:#79B8FF">cd</span><span style="color:#9ECBFF"> "</span><span style="color:#E1E4E8">$REPO_PATH</span><span style="color:#9ECBFF">"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> "=== Daily Constitutional Compliance Check ==="</span></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> "Date: $(</span><span style="color:#B392F0">date</span><span style="color:#9ECBFF">)"</span></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> ""</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Check AGENTS.md size</span></span>
<span class="line"><span style="color:#E1E4E8">AGENTS_SIZE</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">$(</span><span style="color:#79B8FF">stat</span><span style="color:#79B8FF"> -c%s</span><span style="color:#9ECBFF"> "AGENTS.md"</span><span style="color:#F97583"> 2></span><span style="color:#9ECBFF">/dev/null</span><span style="color:#F97583"> ||</span><span style="color:#79B8FF"> stat</span><span style="color:#79B8FF"> -f%z</span><span style="color:#9ECBFF"> "AGENTS.md"</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">AGENTS_KB</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">$((</span><span style="color:#B392F0">AGENTS_SIZE</span><span style="color:#9ECBFF"> /</span><span style="color:#79B8FF"> 1024</span><span style="color:#E1E4E8">))</span></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> "AGENTS.md size: ${</span><span style="color:#E1E4E8">AGENTS_KB</span><span style="color:#9ECBFF">}KB (limit: 40KB)"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Check symlinks</span></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> [ </span><span style="color:#F97583">-L</span><span style="color:#9ECBFF"> "CLAUDE.md"</span><span style="color:#E1E4E8"> ] &#x26;&#x26; [ </span><span style="color:#F97583">-L</span><span style="color:#9ECBFF"> "GEMINI.md"</span><span style="color:#E1E4E8"> ]; </span><span style="color:#F97583">then</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "‚úì Symlinks intact"</span></span>
<span class="line"><span style="color:#F97583">else</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "‚úó Symlinks broken - REPAIR NEEDED"</span></span>
<span class="line"><span style="color:#F97583">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Check .nojekyll</span></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#E1E4E8"> [ </span><span style="color:#F97583">-f</span><span style="color:#9ECBFF"> "docs/.nojekyll"</span><span style="color:#E1E4E8"> ]; </span><span style="color:#F97583">then</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "‚úì docs/.nojekyll exists"</span></span>
<span class="line"><span style="color:#F97583">else</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "‚úó docs/.nojekyll missing - CRITICAL"</span></span>
<span class="line"><span style="color:#F97583">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Check branch count</span></span>
<span class="line"><span style="color:#E1E4E8">BRANCH_COUNT</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">$(</span><span style="color:#B392F0">git</span><span style="color:#9ECBFF"> branch</span><span style="color:#79B8FF"> -r</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> wc</span><span style="color:#79B8FF"> -l</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> "Remote branches: </span><span style="color:#E1E4E8">$BRANCH_COUNT</span><span style="color:#9ECBFF"> (should only increase)"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Check latest commit compliance</span></span>
<span class="line"><span style="color:#E1E4E8">LATEST_COMMIT_MSG</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">$(</span><span style="color:#B392F0">git</span><span style="color:#9ECBFF"> log</span><span style="color:#79B8FF"> -1</span><span style="color:#79B8FF"> --pretty=%B</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#F97583">if</span><span style="color:#79B8FF"> echo</span><span style="color:#9ECBFF"> "</span><span style="color:#E1E4E8">$LATEST_COMMIT_MSG</span><span style="color:#9ECBFF">"</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> grep</span><span style="color:#79B8FF"> -q</span><span style="color:#9ECBFF"> "Co-Authored-By: Claude"</span><span style="color:#E1E4E8">; </span><span style="color:#F97583">then</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "‚úì Latest commit has co-authorship"</span></span>
<span class="line"><span style="color:#F97583">else</span></span>
<span class="line"><span style="color:#79B8FF">    echo</span><span style="color:#9ECBFF"> "‚ö†Ô∏è Latest commit missing co-authorship"</span></span>
<span class="line"><span style="color:#F97583">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> ""</span></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> "=== End of Daily Check ==="</span></span></code></pre>
<p><strong>Cron schedule</strong>:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Add to crontab -e</span></span>
<span class="line"><span style="color:#B392F0">0</span><span style="color:#79B8FF"> 9</span><span style="color:#79B8FF"> *</span><span style="color:#79B8FF"> *</span><span style="color:#79B8FF"> *</span><span style="color:#9ECBFF"> /home/kkk/Apps/ghostty-config-files/.runners-local/workflows/daily-compliance-check.sh</span><span style="color:#F97583"> >></span><span style="color:#9ECBFF"> /tmp/constitutional-compliance.log</span><span style="color:#F97583"> 2>&#x26;1</span></span></code></pre>
<h3 id="62-compliance-metrics">6.2 Compliance Metrics</h3>
<p><strong>Track these metrics over time</strong>:</p>
<ol>
<li>AGENTS.md size trend (KB)</li>
<li>Number of branches (should only increase)</li>
<li>Commit message compliance rate (% with co-authorship)</li>
<li>GitHub Actions minutes consumed (should be 0)</li>
<li>Documentation link integrity (% valid links)</li>
<li>Hook bypass frequency (should be minimal)</li>
</ol>
<p><strong>Metrics Dashboard</strong> (generate weekly):</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D">#!/bin/bash</span></span>
<span class="line"><span style="color:#6A737D"># Generate weekly compliance metrics report</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8">WEEK_START</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">$(</span><span style="color:#B392F0">date</span><span style="color:#79B8FF"> -d</span><span style="color:#9ECBFF"> "7 days ago"</span><span style="color:#9ECBFF"> +%Y-%m-%d</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">WEEK_END</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">$(</span><span style="color:#B392F0">date</span><span style="color:#9ECBFF"> +%Y-%m-%d</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> "=== Constitutional Compliance Metrics ==="</span></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> "Period: </span><span style="color:#E1E4E8">$WEEK_START</span><span style="color:#9ECBFF"> to </span><span style="color:#E1E4E8">$WEEK_END</span><span style="color:#9ECBFF">"</span></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> ""</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Commits this week</span></span>
<span class="line"><span style="color:#E1E4E8">COMMIT_COUNT</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">$(</span><span style="color:#B392F0">git</span><span style="color:#9ECBFF"> log</span><span style="color:#79B8FF"> --since=</span><span style="color:#9ECBFF">"</span><span style="color:#E1E4E8">$WEEK_START</span><span style="color:#9ECBFF">"</span><span style="color:#79B8FF"> --until=</span><span style="color:#9ECBFF">"</span><span style="color:#E1E4E8">$WEEK_END</span><span style="color:#9ECBFF">"</span><span style="color:#79B8FF"> --oneline</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> wc</span><span style="color:#79B8FF"> -l</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> "Commits this week: </span><span style="color:#E1E4E8">$COMMIT_COUNT</span><span style="color:#9ECBFF">"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Commits with co-authorship</span></span>
<span class="line"><span style="color:#E1E4E8">COMPLIANT_COMMITS</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">$(</span><span style="color:#B392F0">git</span><span style="color:#9ECBFF"> log</span><span style="color:#79B8FF"> --since=</span><span style="color:#9ECBFF">"</span><span style="color:#E1E4E8">$WEEK_START</span><span style="color:#9ECBFF">"</span><span style="color:#79B8FF"> --until=</span><span style="color:#9ECBFF">"</span><span style="color:#E1E4E8">$WEEK_END</span><span style="color:#9ECBFF">"</span><span style="color:#79B8FF"> --grep=</span><span style="color:#9ECBFF">"Co-Authored-By: Claude"</span><span style="color:#79B8FF"> --oneline</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> wc</span><span style="color:#79B8FF"> -l</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">COMPLIANCE_RATE</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">$(</span><span style="color:#B392F0">awk</span><span style="color:#9ECBFF"> "BEGIN {printf </span><span style="color:#79B8FF">\"</span><span style="color:#9ECBFF">%.1f</span><span style="color:#79B8FF">\"</span><span style="color:#9ECBFF">, (</span><span style="color:#E1E4E8">$COMPLIANT_COMMITS</span><span style="color:#9ECBFF">/</span><span style="color:#E1E4E8">$COMMIT_COUNT</span><span style="color:#9ECBFF">)*100}"</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> "Co-authorship compliance: </span><span style="color:#E1E4E8">$COMPLIANCE_RATE</span><span style="color:#9ECBFF">%"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Branches created</span></span>
<span class="line"><span style="color:#E1E4E8">NEW_BRANCHES</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">$(</span><span style="color:#B392F0">git</span><span style="color:#9ECBFF"> reflog</span><span style="color:#79B8FF"> --since=</span><span style="color:#9ECBFF">"</span><span style="color:#E1E4E8">$WEEK_START</span><span style="color:#9ECBFF">"</span><span style="color:#79B8FF"> --until=</span><span style="color:#9ECBFF">"</span><span style="color:#E1E4E8">$WEEK_END</span><span style="color:#9ECBFF">"</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> grep</span><span style="color:#9ECBFF"> "checkout: moving from"</span><span style="color:#F97583"> |</span><span style="color:#B392F0"> wc</span><span style="color:#79B8FF"> -l</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> "New branches created: </span><span style="color:#E1E4E8">$NEW_BRANCHES</span><span style="color:#9ECBFF">"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># AGENTS.md size</span></span>
<span class="line"><span style="color:#E1E4E8">AGENTS_SIZE</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">$(</span><span style="color:#79B8FF">stat</span><span style="color:#79B8FF"> -c%s</span><span style="color:#9ECBFF"> "AGENTS.md"</span><span style="color:#F97583"> 2></span><span style="color:#9ECBFF">/dev/null</span><span style="color:#F97583"> ||</span><span style="color:#79B8FF"> stat</span><span style="color:#79B8FF"> -f%z</span><span style="color:#9ECBFF"> "AGENTS.md"</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">AGENTS_KB</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">$((</span><span style="color:#B392F0">AGENTS_SIZE</span><span style="color:#9ECBFF"> /</span><span style="color:#79B8FF"> 1024</span><span style="color:#E1E4E8">))</span></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> "Current AGENTS.md size: ${</span><span style="color:#E1E4E8">AGENTS_KB</span><span style="color:#9ECBFF">}KB"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> ""</span></span>
<span class="line"><span style="color:#79B8FF">echo</span><span style="color:#9ECBFF"> "=== End of Metrics Report ==="</span></span></code></pre>
<h2 id="7-enforcement-strategy">7. Enforcement Strategy</h2>
<h3 id="71-enforcement-levels">7.1 Enforcement Levels</h3>
<p><strong>Level 1: Preventive (Git Hooks)</strong></p>
<ul>
<li>Automatically block non-compliant commits/pushes</li>
<li>Most effective enforcement mechanism</li>
<li>No human intervention required</li>
</ul>
<p><strong>Level 2: Detective (Daily Checks)</strong></p>
<ul>
<li>Identify compliance drift over time</li>
<li>Detect issues that bypassed hooks</li>
<li>Generate reports for review</li>
</ul>
<p><strong>Level 3: Corrective (Manual Review)</strong></p>
<ul>
<li>Human review for complex violations</li>
<li>Policy updates based on patterns</li>
<li>Training and documentation improvements</li>
</ul>
<h3 id="72-violation-response">7.2 Violation Response</h3>
<p><strong>For each violation type</strong>:</p>
<ol>
<li>
<p><strong>AGENTS.md size violation</strong>:</p>
<ul>
<li>Block commit immediately</li>
<li>Trigger modularization workflow</li>
<li>Document sections to extract</li>
</ul>
</li>
<li>
<p><strong>Symlink breakage</strong>:</p>
<ul>
<li>Block commit immediately</li>
<li>Auto-repair symlinks</li>
<li>Commit repair separately</li>
</ul>
</li>
<li>
<p><strong>Branch naming violation</strong>:</p>
<ul>
<li>Block push immediately</li>
<li>Provide correct format example</li>
<li>Rename branch with user confirmation</li>
</ul>
</li>
<li>
<p><strong>Missing co-authorship</strong>:</p>
<ul>
<li>Block commit immediately</li>
<li>Amend commit message</li>
<li>Re-run commit</li>
</ul>
</li>
<li>
<p><strong>Hook bypass</strong>:</p>
<ul>
<li>Log bypass event</li>
<li>Notify repository owner</li>
<li>Require justification in commit message</li>
</ul>
</li>
</ol>
<h2 id="8-future-enhancements">8. Future Enhancements</h2>
<h3 id="81-planned-validations">8.1 Planned Validations</h3>
<ul>
<li>Automated performance regression detection</li>
<li>Dependency vulnerability scanning</li>
<li>Code quality metrics enforcement</li>
<li>Documentation coverage requirements</li>
</ul>
<h3 id="82-integration-points">8.2 Integration Points</h3>
<ul>
<li>CI/CD pipeline status checks</li>
<li>GitHub Actions workflow validation</li>
<li>Context7 MCP best practices queries</li>
<li>Automated compliance reporting</li>
</ul>
<h2 id="9-quick-reference">9. Quick Reference</h2>
<h3 id="91-command-quick-reference">9.1 Command Quick Reference</h3>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Install Git hooks</span></span>
<span class="line"><span style="color:#B392F0">./.runners-local/workflows/install-git-hooks.sh</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Validate AGENTS.md size</span></span>
<span class="line"><span style="color:#B392F0">./.runners-local/workflows/validate-agents-size.sh</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Check symlink integrity</span></span>
<span class="line"><span style="color:#B392F0">./.runners-local/workflows/validate-symlinks.sh</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Validate all documentation links</span></span>
<span class="line"><span style="color:#B392F0">./.runners-local/workflows/validate-doc-links.sh</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Run complete compliance check</span></span>
<span class="line"><span style="color:#B392F0">./.runners-local/workflows/constitutional-compliance-check.sh</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Generate compliance report</span></span>
<span class="line"><span style="color:#B392F0">./.runners-local/workflows/generate-compliance-report.sh</span></span></code></pre>
<h3 id="92-troubleshooting">9.2 Troubleshooting</h3>
<p><strong>Problem</strong>: Commit blocked by AGENTS.md size
<strong>Solution</strong>: Run modularization workflow or reduce content</p>
<p><strong>Problem</strong>: Symlinks broken
<strong>Solution</strong>: Run <code>./.runners-local/workflows/repair-symlinks.sh</code></p>
<p><strong>Problem</strong>: Branch name invalid
<strong>Solution</strong>: Rename branch: <code>git branch -m old-name new-name</code></p>
<p><strong>Problem</strong>: Missing co-authorship
<strong>Solution</strong>: Amend commit: <code>git commit --amend</code></p>
<h2 id="10-contact-and-support">10. Contact and Support</h2>
<p><strong>Repository Owner</strong>: kkk
<strong>Constitutional Compliance Agent</strong>: constitutional-compliance-agent
<strong>Documentation</strong>: AGENTS.md, CLAUDE.md, GEMINI.md
<strong>Support Files</strong>: <code>.runners-local/workflows/*</code></p>
<hr>
<p><strong>CRITICAL</strong>: These compliance criteria are MANDATORY and NON-NEGOTIABLE. All Git operations must pass these validations. Violations will be blocked automatically by Git hooks or detected in daily compliance checks.</p>
<p><strong>Version</strong>: 1.0
<strong>Last Updated</strong>: 2025-11-17
<strong>Review Cycle</strong>: Monthly
<strong>Next Review</strong>: 2025-12-17</p> <div class="mt-12"> <div class="divider"></div> <div class="flex gap-2 flex-wrap"> <span class="badge badge-outline">ai</span><span class="badge badge-outline">guidelines</span> </div> </div> </article> </main> <!-- Modern Glass Footer --> <footer class="footer footer-center bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl text-gray-900 dark:text-gray-100 p-10 mt-16 border-t border-gray-200/50 dark:border-gray-700/50"> <aside> <p class="font-bold text-xl mb-2">
Ghostty Configuration Files
</p> <p class="max-w-2xl text-gray-600 dark:text-gray-400">
A comprehensive terminal environment setup featuring Ghostty terminal emulator<br>
with 2025 performance optimizations, AI tools integration, and intelligent update management.
</p> <p class="text-sm text-gray-600 dark:text-gray-400 mt-4">
Built with Astro v5 + Tailwind CSS v4 + DaisyUI v5
</p> </aside> </footer>  </body> </html>